<html>
<head>

<!-- jquery plugins -->
<script src="js/jquery-1.10.2.js"></script>
<script src="js/jquery.easing.1.3.js"></script>
<script src="js/jquery.ui.effect.js"></script>
<script src="js/jquery.ui.effect-slide.js"></script>
<script src="js/jquery.ui.core.js"></script>
<script src="js/jquery.ui.widget.js"></script>
<script src="js/jquery.ui.mouse.js"></script>
<script src="js/jquery.ui.draggable.js"></script>
<script src="js/jquery.ui.droppable.js"></script>
<script src="js/jquery.ui.effect-drop.js"></script>
<script src="js/jquery.ui.resizable.js"></script>

<!-- CSS -->

<link rel="stylesheet" type="text/css" href="Mini-Weebly.css">

<!-- Favicon Image -->
<link rel="shortcut icon" href="Images/favicon.ico" type="image/x-icon">

<!-- Font -->
<style>
		@font-face {
			font-family: 'ProximaNova';
			src: url('Assets/Font/ProximaNova-Reg.otf') format('truetype');
		}
		
		@font-face {
			font-family: 'ProximaNova';
			font-weight: bold;
			src: url('Assets/Font/ProximaNova-Sbold.otf') format('truetype');
		}
</style>

<script type="text/javascript">
// Global Variables
var pagecount = 0;	
var currentBUTTON = 0;
var currentPAGE;
var siteGrid = 0;

// create "HOME" page and elements on page load
$( document ).ready(function()
{
newBOX("load");
setTimeout(function() { 
	dropFunction(currentPAGE, 'NavElement', "center");
	dropFunction(currentPAGE, 'ImageElement', "center");
	dropFunction(currentPAGE, 'TitleElement', "center");
	dropFunction(currentPAGE, 'TextElement', "center");
}, 300);
});

// Function that is called when a new page is created
// Time specifies if the function is performed on page load or by the user
function newBOX(time) 
{
	++pagecount;
// Javascript for buttons in template header
	var outside = document.createElement('div');
	outside.className="ButtonOutside";
	document.getElementById('container').appendChild(outside);
		
	var inside = document.createElement('div');
	outside.appendChild(inside);
	if (pagecount==1)
		inside.className="Current ButtonInside";
	else
		inside.className="Other ButtonInside";
	
	var pageNAME = document.createElement('input')	
	pageNAME.className="textBOXbutton";
	$(pageNAME).attr('maxlength', '20');  
	var pageTitle;
	if (time == "load")
		{
		pageTitle = "HOME"
		pageNAME.value = "HOME";
		}
	else
		{
		pageTitle = document.getElementById('pageTEXT').value; 	
		if(pageTitle != "")
			pageNAME.value = pageTitle; 
		else
		pageNAME.value = "UNTITLED";
		}
	document.getElementById('pageTEXT').value = "";
	inside.appendChild(pageNAME);
	pageNAME.disabled = true;
	
//Javascript for new droppable page area 
	var page = document.createElement('div');
	page.className="droppable";
	$( page ).droppable({ 
		accept: ".draggable", 
		drop: function(){dropFunction(this, "none", "center")}
	});
	
	if (time == "load")
		currentPAGE = page;
	
	document.getElementById('droppableParent').appendChild(page);
	if (pagecount==1){
		$(page).fadeIn( "fast");
		currentPAGE = page;
	}

// Javascript for delete icon
	var deleteICON = document.createElement('img');
	deleteICON.className="deleteICON";
	$(deleteICON).attr("src","Images/Delete-Icon.png");
	inside.appendChild(deleteICON);
	$(deleteICON).hover(
 		function() {
			$(deleteICON).attr("src","Images/Delete-Icon Hover.png");
            $(inside).stop(true, true).addClass('red', 500);
  		}, function() {
        	$(deleteICON).attr("src","Images/Delete-Icon.png");
            $(inside).stop(true, true).removeClass('red', 500);

        }
    );
	deleteICON.onclick = function() {removeBOX(outside, inside, page);}

// Javascript for edit icon
	var editICON = document.createElement('img');
	editICON.className="editICON";
	$(editICON).attr("src","Images/Edit-Icon.png");
	inside.appendChild(editICON);
	$(editICON).hover(
 		function() {
			$(editICON).attr("src","Images/Edit-Icon Hover.png");
  		}, function() {
        	 $(editICON).attr("src","Images/Edit-Icon.png");
	});
	editICON.onclick = function() {
		pageNAME.disabled = false;
		pageNAME.focus();
		pageNAME.onblur=function(){
			pageNAME.disabled = true;
			var index = $(outside).index() + 1;
			$('.NavButtons').each(function(){
				$("div.horizontalButton:nth-child(" + index + ")").html(pageNAME.value);
			});
			};
        $(pageNAME).keypress(function( event ) {
                                if ( event.which == 13 )
                                    pageNAME.blur();
        })
    }

// javascript for new page button animation    
 	if (time == "load")
		{
		$(outside).show();
		$(inside).show();		
		}
	else
	{
	$(outside).slideDown( "fast", function () {
		$(inside).fadeIn( "fast");			
	});	
	}

// javascript to show icons when button is hovered over
	$(outside).hover(
  		function() {
			$(deleteICON).show();
			$(editICON).show();
		}, function() {
            $(deleteICON).hide();
			$(editICON).hide();
	});
	
//Javacsript for navigation pages
	$('.NavButtons').each(function(){
		var horizontalButton = document.createElement('div');
		if (time == "load")
			horizontalButton.className="horizontalButton horizontalHighlight";
		else
			horizontalButton.className="horizontalButton horizontalNormal";
		$(this).append($(horizontalButton));
		horizontalButton.innerHTML = pageNAME.value;
		$(horizontalButton).fadeIn( "medium");
		$(horizontalButton).click(function(){
			pageNum = $(horizontalButton).index();
			$("#container div.ButtonInside:eq(" + pageNum + ")").trigger("click");
		})	
	});
	
//Javascript to when user switches pages
	var switchPAGE = (function(e){
		if(e.target !=editICON && e.target != deleteICON && !$(inside).hasClass("Current")){
			$("#container div.ButtonInside:eq(" + currentBUTTON + ")").switchClass( "Current", "Other", 400, "easeInOutQuad" );
			$(inside).switchClass( "Other", "Current", 400, "easeInOutQuad" );
			$(inside).unbind("click", switchPAGE);
			$(currentPAGE).fadeOut( "fast", function(){
					$(page).fadeIn( "fast");
					});
			$('.NavButtons').each(function(){
				$("div.horizontalButton:eq(" + currentBUTTON + ")").switchClass( "horizontalHighlight", "horizontalNormal", "medium", "easeOutQuad");
				$("div.horizontalButton:eq(" + $(outside).index() + ")").switchClass( "horizontalNormal", "horizontalHighlight", "medium", "easeOutQuad");
			});
			currentBUTTON = $(outside).index();
			currentPAGE = page;

//Did this to prevent click same page twice
			setTimeout( 
		        function() {
		             	$(inside).bind("click", switchPAGE);
		        }
		    , 500);	    
		}
    });
	$(inside).bind("click", switchPAGE); 
	
}

// Javascript function that is performed when a page is deleted
// outside and inside are parts of the template button, page specifies that droppable area
function removeBOX (outside, inside, page) 
{		
	var deletedPAGE = $(outside).index();
	if (currentBUTTON > deletedPAGE)
		currentBUTTON--;

// Javascript for navagation buttons
	var index = $(outside).index() + 1;
	var horizontal = "div.horizontalButton:nth-child(" + index + ")";

	$('.NavButtons').each(function(){
		$(horizontal).fadeOut( "fast", function(){	
			var Slider = document.createElement('div');
			Slider.className="horizontalSlider";
			this.parentNode.insertBefore(Slider, this.nextSibling);
			$(Slider).animate({width: "0px"}, "medium", function(){
			Slider.remove();
			});
		  	$(this).remove();
		});		
	});

// Javascript to open new page if current viewing page is removed
	if ($(inside).hasClass('Current')){
		if(currentBUTTON==0)
			{
			$("#container div.ButtonInside:eq(1)").switchClass( "Other", "Current", 400, "easeInOutQuad" );
			$("#droppableParent div.droppable:eq(1)").fadeIn("fast");
			currentPAGE = $("#droppableParent div.droppable:eq(1)");
			$('.NavButtons').each(function(){
				$("div.horizontalButton:nth-child(1)").switchClass( "horizontalNormal", "horizontalHighlight", "medium", "easeOutQuad");
			});
			}
		else
			{
			$("#container div.ButtonInside:eq(0)").switchClass( "Other", "Current", 400, "easeInOutQuad" );
			$("#droppableParent div.droppable:eq(0)").fadeIn("fast");
			currentPAGE = $("#droppableParent div.droppable:eq(0)");
			$('.NavButtons').each(function(){
				$("div.horizontalButton:nth-child(0)").switchClass( "horizontalNormal", "horizontalHighlight", "medium", "easeOutQuad");
			});
			}

// Javascript to remove droppable area and elements
		$(page).fadeOut( "fast", function (){
			page.remove();
			});
		currentBUTTON=0;
	};

// animation to remove page template		
	$(inside).fadeOut( "fast", function () {
		$(outside).slideUp( "fast", function () {
			outside.remove();
		});
	});	

	--pagecount;
}

$(function() {
// javascript for site grid slider
	$( "#SiteGrid-Slider" ).draggable({ 
		containment: "#SiteGrid-Wrapper",
		grid: [10],
		drag: function() {
			if(this.offsetLeft > 24)
				{
				siteGrid = 1;
				$("#SiteGrid-Wrapper").css({backgroundColor: "green",});
				$("#gridTriangle").css({left: "16px", borderBottomColor: "#005A00"})
				}
			else if(this.offsetLeft < 5)
				{
				siteGrid = 0;
				$("#SiteGrid-Wrapper").css({backgroundColor: "#4f657b",});
				$("#gridTriangle").css({left: "0px", borderBottomColor: "#445669"})
				}
		}		
		
	});
	$( "#SiteGrid-Slider" ).hover(
        function() {
			$( "#SiteGrid-Slider" ).stop(true, true).animate({backgroundColor: "white"}, 500 );		
		}, function() {
			$( "#SiteGrid-Slider" ).stop(true, true).animate({backgroundColor: "#a1b7cd"}, 500 );		
		}
    );

// specifies that element tiles can be dragged
	$( ".draggable" ).draggable({
		revert: 'invalid',
		});
// background turns grey when element is dragged to clarify droppable area to user		
	$(".draggable").mousedown(function(){
			$("#background").stop(true, true).animate({backgroundColor: "gray"}, 400);
			$(this).css( "zIndex", 6 );	
	});

	$(".draggable").mouseup(function(){
			$("#background").stop(true, true).animate({backgroundColor: "white"}, 400);
			$(this).css( "zIndex", 5 );	
	});
// element parents change color when hovered and when elements are dragged
	$( ".elementBox" ).hover(
        function() {
			$( this ).stop(true, true).animate({backgroundColor: "#3d5165",}, 500 );
		}, function() {
			$( this ).stop(true, true).animate({backgroundColor: "#34485c",}, 500 );
		}
    );
});

// function performed when an element is dropped
// appendElement specifies where the new element will be appended
// load specifies if the element is dropped on load or by the user and columns specifies whether there are 1 or two columns
function dropFunction(appendElement, load, columns){
// find out which element is being appended
			if (load=="none")
				var droppedItem = event.target.id;
	        else
				var droppedItem = load;
			$("#" + droppedItem).hide('drop', { direction: 'down' }, "normal", function(){
				var element = document.createElement('div');
				var gridBox = document.createElement('div');
// creates blue dashed line and moves elements into two columns when element is dragged over			
				var mouseLocation;
				$( element ).droppable({ 
					accept: ".draggable", 
					over: function(e){
					 	mouseLocation = e.pageX - 450;
						if (siteGrid == 1)
							{
							if (mouseLocation < 427)
								{																
								if (droppedItem == "TitleElement")
									$(TitleText).stop(true, true).addClass('blueDashesLeft', 400);
								else if (droppedItem == "TextElement")
									$(TextText).stop(true, true).addClass('blueDashesLeft', 400);
								else if (droppedItem == "ImageElement")
									$(background).stop(true, true).addClass('blueDashesLeft', 400);
								else
									$(element).stop(true, true).children(".NavButtons").addClass('blueDashesLeft', 400);
								}
							else
								{							
								if (droppedItem == "TitleElement")
									$(TitleText).stop(true, true).addClass('blueDashesRight', 400);
								else if (droppedItem == "TextElement")
									$(TextText).stop(true, true).addClass('blueDashesRight', 400);
								else if (droppedItem == "ImageElement")
									$(background).stop(true, true).addClass('blueDashesRight', 400);
								else
									$(element).stop(true, true).children(".NavButtons").addClass('blueDashesRight', 400);
								}
							}	
					},
// returns element back to one column if element is not dropped
					out: function(){
						if (siteGrid == 1)
							{
							if (mouseLocation < 427)
								{																
								if (droppedItem == "TitleElement")
									$(TitleText).stop(true, true).removeClass('blueDashesLeft', 400);
								else if (droppedItem == "TextElement")
									$(TextText).stop(true, true).removeClass('blueDashesLeft', 400);
								else if (droppedItem == "ImageElement")
									$(background).stop(true, true).removeClass('blueDashesLeft', 400);
								else
									$(element).stop(true, true).children(".NavButtons").removeClass('blueDashesLeft', 400);
								}
							else
								{							
								if (droppedItem == "TitleElement")
									$(TitleText).stop(true, true).removeClass('blueDashesRight', 400);
								else if (droppedItem == "TextElement")
									$(TextText).stop(true, true).removeClass('blueDashesRight', 400);
								else if (droppedItem == "ImageElement")
									$(background).stop(true, true).removeClass('blueDashesRight', 400);
								else
									$(element).stop(true, true).children(".NavButtons").removeClass('blueDashesRight', 400);
								}
							}
					},
// function to append element into 2 columns
					drop: function(){
						$(element).css({width: '380px'});
						if (mouseLocation < 427)
							{
							dropFunction(this, "none", "left");
							if (siteGrid == 1)
								{
								if (droppedItem == "TitleElement")
									$(TitleText).stop(true, true).removeClass('blueDashesLeft', 400);
								else if (droppedItem == "TextElement")
									$(TextText).stop(true, true).removeClass('blueDashesLeft', 400);
								else if (droppedItem == "ImageElement")
									$(background).stop(true, true).removeClass('blueDashesLeft', 400);
								else
									$(element).stop(true, true).children(".NavButtons").removeClass('blueDashesLeft', 400);
								}
							}
						else
							{
							dropFunction(this, "none", "right");
							$(gridBox).remove();							
							if (siteGrid == 1)
								{
								if (droppedItem == "TitleElement")
									$(TitleText).stop(true, true).removeClass('blueDashesRight', 400);
								else if (droppedItem == "TextElement")
									$(TextText).stop(true, true).removeClass('blueDashesRight', 400);
								else if (droppedItem == "ImageElement")
									$(background).stop(true, true).removeClass('blueDashesRight', 400);
								else
									$(element).stop(true, true).children(".NavButtons").removeClass('blueDashesRight', 400);
								}
							}							
						}				
				});
// creates horizontal blue dashed lines to append element to below				
				gridBox.className = "gridBox";				
				$( gridBox ).droppable({ 
					accept: ".draggable", 
					over: function(){
						if (siteGrid == 1)
							$(this).addClass('blueDashesHorizontal');
					},
					out: function(){
						if (siteGrid == 1)
							$(this).removeClass('blueDashesHorizontal');
					},
					drop: function(){
						if (siteGrid == 1)
							$(this).removeClass('blueDashesHorizontal');
						dropFunction(this, "none", "center")
						}				
				});
// javascript to create each div depending on the element that was dropped			
				if (droppedItem == "TitleElement"){
					element.className="element title";
					var TitleText = document.createElement('textarea');
					TitleText.className="textBOXtitle";
					TitleText.placeholder = "Add Title Here";
					element.appendChild(TitleText);					
					$("#" + droppedItem).css({top: '20px', left: '32px'});
				}
				
				else if (droppedItem == "TextElement"){
					element.className="element text";
					var TextText = document.createElement('textarea');
					TextText.className="textBOXtext";
					TextText.placeholder = "Start typing here.";
					element.appendChild(TextText);	
					$("#" + droppedItem).css({top: '20px', left: '31px'});
					if (load!="none")
						{
						TextText.value = "Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Sed lacus. Sed vel mi. Vestibulum eget massa. Pellentesque libero justo, consequat nec, sodales vel, fringilla semper, diam. Donec at est. Cras dictum enim posuere tellus.\rInteger pharetra nulla non sapien. Maecenas sem velit, feugiat at, fermentum nec, pretium ac, lorem. Duis luctus, risus non sollicitudin gravida, felis quam pharetra tellus, in pellentesque dui ante at magna. Cras non diam et tortor ultricies pharetra. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Aenean rutrum mauris et dolor. Etiam turpis sapien, fermentum et, auctor vel, elementum eu, leo.";	
						}	
				}
				
				else if (droppedItem == "ImageElement"){
					element.className="element image";
					var background = document.createElement('div');
					background.className="imageBackground";
					element.appendChild(background);
					var centerImage = document.createElement('div');
					centerImage.className="centerImage";
					var imageHolder = document.createElement('img');
					$(imageHolder).attr("src", "Images/Image-Placeholder.png");
					centerImage.appendChild(imageHolder);
					var imageText = document.createElement('div');
					imageText.className="addImagePlus";
					imageText.innerHTML = "Add Image";					
					var addIcon = document.createElement('img');
					$(addIcon).attr("src","Images/Add-Icon for PlaceHolder.png");
					addIcon.style.position="relative";
					addIcon.style.top="15px";
					imageText.appendChild(addIcon);
					centerImage.appendChild(imageText);
					background.appendChild(centerImage);
					$("#" + droppedItem).css({top: '18px', left: '32px'});
				}
				
				else{
					element.className="element navigation";
					$( "#pagesHORIZONTAL" ).clone(true).appendTo( element ).show();
					$("#" + droppedItem).css({top: '18px', left: '31px'});
				}
// makes the dropped element resizable				
				$(element).resizable({
					containment: ".droppable",
					aspectRatio: false,
    				handles: 'n, w, e, s',
			      	grid: 10
				});					
					$(element).children('.ui-resizable-handle').hide();
// create triangle that deletes element
				var deleteTriangleRed = document.createElement('img');
					deleteTriangleRed.className="deleteTriangle";
					$(deleteTriangleRed).attr("src", "Images/Delete-Element Red.png");
				var deleteTriangleBlue = document.createElement('img');
					deleteTriangleBlue.className="deleteTriangle";
					$(deleteTriangleBlue).attr("src", "Images/Delete-Element Blue.png");
				element.appendChild(deleteTriangleRed);
				element.appendChild(deleteTriangleBlue);
// appends element depending on where it was dropped				
				if (columns=="left")
					{						
					$(element).css({width: '380px'});
					$(element).insertBefore($(appendElement));
					currentPAGE.lastChild.remove();
					currentPAGE.lastChild.remove();
					}
				else if (columns == "right")
					{
					$(element).css({width: '380px'});
					$(appendElement).after($(gridBox));
					$(appendElement).after($(element));	
					currentPAGE.lastChild.remove();
					currentPAGE.lastChild.remove();
					}				
				else if (appendElement == currentPAGE)
					{
					currentPAGE.appendChild(element);
					currentPAGE.appendChild(gridBox);						
					}
				else
					{
					$(appendElement).after($(gridBox));
					$(appendElement).after($(element));					
					currentPAGE.lastChild.remove();
					currentPAGE.lastChild.remove();
					}
			
				$(element).fadeIn("normal");
				$("#" + droppedItem).fadeIn("normal");
// hovering over element makes border fade in		
				$(element).mouseover(function(){
					$(deleteTriangleBlue).stop(true, true).fadeIn(400);
					$(deleteTriangleRed).stop(true, true).fadeIn(400);
					$(element).children('.ui-resizable-handle').stop(true, true).fadeIn(400);
					$(element).stop(true, true).addClass('borderBlue', 400);
				})
// when mouse moves off element the border fades out
				$(element).mouseout(function(){
					$(deleteTriangleBlue).fadeOut(400);
					$(deleteTriangleRed).fadeOut(400);
					$(element).children('.ui-resizable-handle').stop(true, true).fadeOut(400);
					$(element).stop(true, true).removeClass('borderBlue', 400);
				})
// clicking on red triangle deletes element				
				deleteTriangleBlue.onclick = function() {
					$(element).children().fadeOut(400, function(){
						$(element).empty();
						$(gridBox).slideUp(400)
						$(element).slideUp(400, function(){
							element.remove();
							gridBox.remove();
							});						
						});
					$(element).stop(true, true).removeClass('borderRed borderBlue', 400);
				}
// mouse over blue trianglel makes element turn red
				$(deleteTriangleBlue).hover(
					function() {
						$(this).stop(true, true).animate({opacity: 0}, 400);     				
						$(element).stop(true,true).addClass('borderRed', 400);
						$(".ui-resizable-handle").css({backgroundColor: "#ef7a74"}); 
						
					}, function() {
	  		   			$(this).stop(true, true).animate({opacity: 1}, 400);
						$(element).stop(true,true).removeClass('borderRed', 400);
						$(".ui-resizable-handle").css({backgroundColor: "#8fc7ff"}); 		
				});
			});
		
};
	
</script>
 
  <title>Mini-Weebly</title>  
</head>

<body>
<div class="logo">
	<img src="Images/Weebly-Logo.png" alt="Weebly" style="position:relative; top:7px; left:31px;">
</div>

<div style="width:235px; min-height:855; background-color: #2c3e50; position:relative; top:0px; padding-top:41px;">
<!-- Template buttons -->
	<div class="header" style="border-top:0px; height:24px;"> TEMPLATES</div>
	<div id="container" style="margin-top:24px; position:relative; display:block; margin-bottom:10px; width:100%;"> 
	</div>

	<div id="pageADD"  class="pageADD">
		<form><input id="pageTEXT" type="text" name="pagename" maxlength="20" class="textBOXbutton" placeholder="ADD NEW PAGE"></form>
		<img onClick="newBOX('user')" id="Add-Icon" src="Images/Add-Icon.png" alt="Add Page" style="position:absolute; float:right; top:8px; right:9px;">
		</div>
<!-- Element boxes -->
	<div class="header" style="box-shadow: 0px 2px 2px 0px rgba(0, 0, 0, 0.3); z-index:1;">ELEMENTS</div>
		<div style="height:216px; position:relative;">
        	<div class="elementBox" style=" position:relative; width:117px; height: 107px; background-color:#34485c; float:left; border-right: 2px solid #21313f; border-bottom: 2px solid #21313f;">
				<img id="TitleElement" class="draggable" src="Images/Title-Element.png" alt="Title" style="top:20px; left:32px;">
        		<div style="color:5e768e; font-size:13px; font-weight:bold; position:absolute; left:41px; top:84px;">TITLE</div>
        		</div>
        
        		<div class="elementBox" style="position:relative; width:115px; height: 107px; background-color:#34485c; float:right; border-left: 1px solid #45586c; border-bottom: 2px solid #21313f;">
      			<img id= "TextElement" class="draggable" src="Images/Text-Element.png" alt="Text" style="top:20px; right:32px;">
        		<div style="color:5e768e; font-size:13px; font-weight:bold; position:absolute; right:43px; top:84px;">TEXT</div>
        	</div>
        
        	<div class="elementBox" style="position:relative; width:117px; height: 106px; background-color:#34485c; float:left; border-top: 1px solid #45586c; border-right: 2px solid #21313f;">
            	<img id="ImageElement" class="draggable" src="Images/Image-Element.png" alt="Image" style="top:18px; left:32px;">
        		<div style="color:5e768e; font-size:13px; font-weight:bold; position:absolute; left:39px; top:82px;">IMAGE</div>
        	</div>
        
        	<div class="elementBox" style="position:relative; width:115px; height: 106px; background-color:#34485c; float:right; border-top: 1px solid #45586c; border-left: 1px solid #45586c;">
       			<img id="NavElement" class="draggable" src="Images/Nav-Element.png" alt="Nav" style="top:18px; right:32px;">
       			<div style="color:5e768e; font-size:13px; font-weight:bold; position:absolute; right:45px; top:82px;">NAV</div>
        		</div>
    			</div>
<! Settings -->
	<div class="header">SETTINGS</div>
		<div style="height:55px; position:relative;">
			<div style="position:relative; left:32px; top:21px; font-weight: bold; color: #5e768e;">Site Grid</div>
    		<div id="SiteGrid-Wrapper" style="width:50px; height:21px; background-color:#4f657b; position:absolute; border-radius:11; box-shadow: inset 1 0 2px #1a2733; right:32px; overflow:hidden;">
    			<div id="gridTriangle" style="left:0px; bottom:0px; position: absolute; width: 0; height: 0; border-left: 17px solid transparent; border-right: 17px solid transparent; border-bottom: 18px solid #445669;"></div>
				<div id="SiteGrid-Slider" class="SiteGrid-Slider"></div>
			</div>
        	<div style="width:235px; height:2px; position:absolute; background-color:#21313f; bottom:0px; border-bottom:1px solid #374859"></div>
			</div>
</div>

<! Parent for droppable pages -->
<div id = "background" style="z-index:2; background-color:white; box-shadow: -2px 0px 7px 0px rgba(0, 0, 0, 0.5); min-width:calc(100% - 235px); min-height:100%; position:absolute; top:0px; margin-left:235px; padding-top:41px;">
	<div id="droppableParent" style="width:857px; position:relative; margin-left:auto; margin-right:auto;">
    	<div id="pagesHORIZONTAL" class="NavButtons"></div>
    </div>
</div>

<script>
// function to change color of add icon depending
$("#pageADD").hover(
  function() {
		 if (!($("#pageTEXT").is(":focus"))) {
    		$("#Add-Icon").attr("src","Images/Add-Icon Hover.png");}
         $("#pageTEXT").focus(
  			function() {
         		$("#Add-Icon").attr("src","Images/Add-Icon.png");
				$("#Add-Icon").hover(
 					function() {
         				$("#Add-Icon").attr("src","Images/Add-Icon Hover.png");
					}, function() {
         				$("#Add-Icon").attr("src","Images/Add-Icon.png");
				});				 
		 });
  }, function() {
         $("#Add-Icon").attr("src","Images/Add-Icon.png");
});

// allows new box to be creater by pressing enter button
$("#pageTEXT").keypress(function( event ) {
    if ( event.which == 13 ){
        event.preventDefault();
            newBOX("user");
            $("#pageTEXT").blur();
    }
})
</script>

</body>
</html>

